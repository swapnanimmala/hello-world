pipeline{
    agent any
    stages('CI'){
        stage('checkout'){
            steps{
                echo 'checkout stage'
                checkout scm
            }
        }
        stage('build'){
            steps{
                echo 'Build stage'
                sh 'mvn clean package'
            }
        }
        stage('test'){
            steps{
                echo 'Test cases stage'
                sh 'mvn test'
            }
            post{
                success{
                    echo 'Archiving artifacts now'
                    archiveArtifacts '**/target/*.jar'
                }
            }
        }
    stages('CD'){
      parallel{  
        stage('staging'){
            steps{
                echo 'staging stage'
            }
        }
    }
        stage('Production'){
            steps{
                echo 'Production stage'
            }
        }
      }
    }
 }
    
